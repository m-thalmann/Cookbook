@use 'sass:map';
@use 'variables' as *;
@use 'theme';
@use 'mixins';

mat-toolbar {
  height: $navbar-height;
  padding: 0;
  overflow: hidden;

  border-top-left-radius: 0.5em;
  border-top-right-radius: 0.5em;

  nav {
    width: 100%;
    height: 100%;

    @include theme.apply() using ($variables) {
      background: linear-gradient(
        50deg,
        rgba(map.get($variables, 'primary'), 0.25) 0%,
        rgba(map.get($variables, 'accent'), 0.25) 100%
      );
    }

    ul {
      padding: 0;
      margin: 0;
      height: 100%;
      display: flex;

      list-style-type: none;

      li {
        flex: 1;

        > * {
          height: 100%;
          width: 100%;
          background: transparent;
          border-radius: 0;

          transition: background 0.2s;

          &:not([disabled]):hover {
            background: rgba(255, 255, 255, 0.05);
          }

          &.current {
            @include theme.apply() using ($variables) {
              color: map.get($variables, 'accent');
            }
          }

          ::ng-deep .mat-button-wrapper {
            height: 100%;

            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
          }

          span {
            font-size: small;
            line-height: 1.2;
            font-weight: normal;

            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s;

            @include mixins.font-handwriting();
          }

          &:hover,
          &.current {
            span {
              max-height: 2em;
            }
          }
        }
      }
    }
  }
}

@include mixins.desktop() {
  mat-toolbar {
    height: 100%;
    width: $navbar-desktop-width;

    border-top-left-radius: unset;
    border-bottom-right-radius: 0.5em;

    nav ul {
      flex-direction: column;

      li {
        flex: unset;

        > * {
          padding: 1em 0;

          span {
            max-height: 2em;
            margin-top: 0.5em;
          }
        }
      }
    }
  }
}
